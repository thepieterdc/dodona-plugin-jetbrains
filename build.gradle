plugins {
    id 'de.fuerstenau.buildconfig' version '1.1.8'
    id 'idea'
    id 'java'
    id 'org.jetbrains.intellij' version '0.4.10'
}

group 'io.github.thepieterdc.dodona'
version '2.0.0-SNAPSHOT'

sourceCompatibility = 1.8

buildConfig {
    packageName 'io.github.thepieterdc.dodona.plugin'
}

repositories {
    mavenCentral()

    maven {
        url "https://dl.bintray.com/thepieterdc/dodona-api-java"
    }
}

dependencies {
    compile group: 'io.github.thepieterdc.dodona', name: 'dodona-api-interface', version: '1.4.3'
    runtime group: 'io.github.thepieterdc.dodona', name: 'dodona-api-impl', version: '1.4.3'

    testCompile group: 'junit', name: 'junit', version: '4.12'
}

intellij {
    downloadSources false
    pluginName 'dodona'
    plugins = ['java', 'PythonCore:2019.2.192.5728.98']
    version 'IU-192.5728.98'
}

patchPluginXml {
    changeNotes """
      <b>This version features a complete rewrite of the plugin.</b>
      
      <b>Features</b>
      <ul>
      </ul>
      """

    pluginDescription "Companion plugin for the Ghent University Dodona platform, which allows you to submit exercises right from your favourite JetBrains IDE."

    sinceBuild '171.0'
}